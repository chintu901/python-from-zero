# List-Comprehensions

List comprehensions are a concise and powerful feature in Python used to create lists in a readable and efficient way. They allow you to generate a new list by **applying an expression to each element of an existing iterable** (such as a list, range, or string), all in a single line of code.

Instead of writing multiple lines using loops and temporary variables, list comprehensions express the **intent of the code clearly**. They focus on what the list should contain rather than how it is built step by step.

List comprehensions provide a cleaner alternative that aligns with Python’s design philosophy: **simple**, **readable**, and **expressive code**.

**Simple Example**

Using a traditional loop:

``` python
squares = []
for i in range(5):
    squares.append(i * i)
```

Using a list comprehension:

``` python
squares = [i * i for i in range(5)]
```

Both snippets produce the same result:

``` python
[0, 1, 4, 9, 16]
```

**When List Comprehensions Are Best Used**
- Creating a new list from an iterable
- Transforming each element in a list
- Filtering elements based on a condition

**⚠️ When to Avoid Them**
- When logic is too complex
- When multiple nested conditions reduce readability
- When side effects (like printing) are involved

## Revision: Lists and Loops (Prerequisite)

To understand list comprehensions properly, you must first understand how lists are created using traditional loops. A list in Python is an ordered and mutable collection that can store multiple values of any data type.

Lists are commonly used to store and process collections of data, such as numbers, strings, or objects.

Basic List Example:

``` python
numbers = [1, 2, 3, 4, 5]
```
### Creating a List Using a for Loop

A common pattern in Python is:
- Create an empty list
- Loop through an iterable
- Process each element
- Append the result to the list

Example:
``` python
numbers = [1, 2, 3, 4, 5]
double = []

for num in numbers:
    double.append(num * num)
```

## Basic Syntax of List Comprehension

The core idea of a list comprehension is simple:
**generate a new list by applying an expression to each element of an iterable**.

A list comprehension combines looping, transformation, coditional (optional)and list creation into a single readable statement.

**General syntax:**

``` python
[expression for item in iterable if condition]
```
**Understanding Each Part**

- `expression:` The operation applied to each element. This decides what gets stored in the new list.

- `item:` A temporary variable that represents each element from the iterable.

- `iterable:` Any object that can be looped over (list, tuple, range, string, etc.).

- `condition:` It allow you to filter elements while creating a list, meaning only the **elements that satisfy a specific rule are included in the final result**.

![List-Comprehension](https://scaler.com/topics/images/list-comprehenstion.webp)

## Adding Conditions in List Comprehensions

List comprehensions become more powerful when combined with conditions. Conditions allow you to **filter elements** while creating a list, meaning only the elements that **satisfy a specific rule** are included in the final result.

In list comprehensions, conditions are written using the `if` keyword and are **placed after** the `for` loop. This type of condition acts as a filter, not a transformation.

Basic Syntax with Condition

``` python
[expression for item in iterable if condition]
```

**How It Works**
- Python loops through each element in the iterable
- The `if` condition is checked
- Only elements that satisfy the condition are included
- The expression is applied only to the filtered elements

**Simple Example: Filtering Even Numbers**

Using a traditional loop:
``` python
numbers = [1, 2, 3, 4, 5, 6]
evens = []

for num in numbers:
    if num % 2 == 0:
        evens.append(num)
```

Using a list comprehension:
``` python
evens = [num for num in numbers if num % 2 == 0]
```

Result:
``` python
[2, 4, 6]
```

**Example: Filtering and Transforming Together**

``` python
squares_of_even = [num * num for num in range(1, 11) if num % 2 == 0]
```
## Conditional Expressions (`if–else` in List Comprehension)

In list comprehensions, **conditional expressions** are used when you want to **transform values differently based on a condition, not filter them out**. This is different from the if condition used for filtering (covered in Section 5).

Here, every element is included, but its final value depends on the condition.

**Syntax of `if–else` in List Comprehension:**
``` python
[expression_if_true if condition else expression_if_false for item in iterable]
```

⚠️ Important:
- The `if–else` comes before the for loop
- This syntax is not optional — order matters

**Example: Labeling Numbers as Even or Odd**

``` python
result = ["Even" if num % 2 == 0 else "Odd" for num in range(1, 6)]
```

**Result:**

``` python 
['Odd', 'Even', 'Odd', 'Even', 'Odd']
```
